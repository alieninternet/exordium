DEFINES=@DEFS@
RM=@RM@
CXX=@CXX@
CXXFLAGS=@CXXFLAGS@
LDFLAGS=
LIBS=@LIBS@

SOURCES=main.cpp 
INCLUDES=../include

OBJECTS=$(SOURCES:.cpp=.o)

TARGET=services

all: $(TARGET)

$(TARGET): $(OBJECTS)
	$(CXX) -o $@ $(OBJECTS) $(LIBS) -L/usr/local/mysql/lib/mysql $(LDFLAGS) lib/libservices.so

%.o: %.cpp
	$(CXX) $(CXXFLAGS) $(DEFINES) -I$(INCLUDES) -I/usr/local/mysql/include/ -I../../kineircd/src/lib -I../../kineircd/include -I../include/  -c $< 


clean:
	$(RM) *.o *~ services *.log

distclean:
	$(RM) *.o *~ services *.log

pretty:
	indent *.cpp
	indent *.h
	$(RM) *~

modules:
	$(CXX) -I../include -I../../kineircd/include -I/usr/local/mysql/include -shared -o love.so love.cpp


